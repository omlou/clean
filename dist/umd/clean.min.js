!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).C=t()}(this,(function(){"use strict";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t={encode:function(t){let n,r,o,i,s,a,c,u="",l=0;for(t=function(e){e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(t);l<t.length;)n=t.charCodeAt(l++),r=t.charCodeAt(l++),o=t.charCodeAt(l++),i=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|o>>6,c=63&o,isNaN(r)?a=c=64:isNaN(o)&&(c=64),u=u+e.charAt(i)+e.charAt(s)+e.charAt(a)+e.charAt(c);return u},decode:function(t){let n,r,o,i,s,a,c,u="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)i=e.indexOf(t.charAt(l++)),s=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),c=e.indexOf(t.charAt(l++)),n=i<<2|s>>4,r=(15&s)<<4|a>>2,o=(3&a)<<6|c,u+=String.fromCharCode(n),64!=a&&(u+=String.fromCharCode(r)),64!=c&&(u+=String.fromCharCode(o));return u=function(e){let t="",n=0,r=0,o=0,i=0;for(;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return t}(u).replace(/\u0000/g,""),u}};var n,r,o={Base64:t,deepCopy:function e(t,n=new Set){if("object"!=typeof t||null===t)return t;if(n.has(t))return t;let r;switch(n.add(t),t.constructor){case Array:r=[];for(let o of t)r.push(e(o,n));break;case Set:r=new Set,t.forEach((t=>{r.add(e(t,n))}));break;case Map:r=new Map,t.forEach(((t,o)=>{r.set(e(o,n),e(t,n))}));break;default:r={};for(let o in t)r[o]=e(t[o],n)}return r},filterObject:function(e,t,n){let r={};if(!t)return Object.assign(r,e);let o=t.split(",");if(void 0===n&&(n=!0),n)for(let t of o)t=t.trim(),e[t]&&(r[t]=e[t]);else{Object.assign(r,e);for(let e of o)delete r[e]}return r},getQuery:function(e=window.location.href){let t={},n=e.indexOf("?");if(-1===n)return t;let r=e.indexOf("#");(-1===r||n>r)&&(r=void 0);let o=e.slice(n+1,r);if(""===o)return t;let i=o.split("&");for(let e of i){if(!e)continue;let n=e.split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return t},queryString:function(e,t=!1){let n=[];for(let t in e)null!==e[t]&&void 0!==e[t]||(e[t]=""),n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));let r=n.join("&");return r&&t?"?"+r:r},toFixed:function(e,t){if(void 0===e)return;let n=Number(e);if(isNaN(n))throw"argument for toFixed error";if(n>Math.pow(10,21))return String(n);let r=Number(t);if(void 0===t||0==r)return String(Math.round(n));if(isNaN(r))throw"The argument of C.toFixed must be a number";if(r>20||r<0)throw"The second argument of C.toFixed must be between 0 and 20";let o=String(n),i=o.split(".");if(i.length<2){o+=".";for(let e=0;e<r;e++)o+="0";return o}let s=i[0],a=i[1];if(a.length==r)return o;if(a.length<r){for(let e=0;e<r-a.length;e++)o+="0";return o}o=s+"."+a.slice(0,r);let c=a.slice(r,r+1);if(parseInt(c,10)>=5){let e=10**r;o=(parseFloat(o)*e+1)/e,o=o.toFixed(r)}return o},formSubmit:function(e){const{document:t}=window,n=t.createElement("form"),{data:r}=e;delete e.data;for(let t in e)e[t]&&(n[t]=e[t]);n.style.display="none";for(let e in r){const o=t.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.value=r[e],n.appendChild(o)}t.body.appendChild(n),n.submit()},readText:function(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.onload=e=>{t(r.response)},r.onerror=e=>{n(e)},r.open("GET",e,!0),r.send()}))},readJSON:function(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.onload=e=>{t(JSON.parse(r.response))},r.onerror=e=>{n(e)},r.open("GET",e,!0),r.send()}))},getStore:function(e){let t=localStorage.getItem(e);if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t},setStore:function(e,t){if("object"==typeof t&&null!==t)try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)},unid:function(){return Math.floor(1e14*Math.random()).toString(36)+Date.now().toString(36)},colorRGB:function(e){let t=e.toLowerCase(),n=[];if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let n=1;n<4;n+=1)e+=t.slice(n,n+1).concat(t.slice(n,n+1));t=e}for(let e=1;e<7;e+=2)n.push(parseInt("0x"+t.slice(e,e+2)));return n}if(/^(rgb\(|RGB\()[\s\S]+\)/.test(t))return n=t.replace(/( |\(|\)|rgb|RGB)+/g,"").split(","),n.map(Number)}};function i(e,t=!1){let n=[];for(let t in e)null!==e[t]&&void 0!==e[t]||(e[t]=""),n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));let r=n.join("&");return r&&t?"?"+r:r}!function(e){e.DF="",e.AB="arraybuffer",e.Blob="blob",e.DOC="document",e.JSON="json",e.TXT="text"}(n||(n={})),function(e){e.json="application/json;charset=UTF-8",e.urlencoded="application/x-www-form-urlencoded;charset=UTF-8",e.formData="multipart/form-data",e.text="text/plain;charset=UTF-8",e.xml="application/xml;charset=UTF-8",e.stream="application/octet-stream"}(r||(r={}));const s=new Set(["[object String]","[object FormData]","[object Blob]","[object ArrayBuffer]","[object URLSearchParams]","[object Null]","[object Undefined]"]),a=new Set(["GET","DELETE","HEAD","OPTIONS","TRACE"]);function c(e,t){if(!t)return"";let n="string"==typeof t?t:i(t);return n?-1!==e.indexOf("?")?"&"+n:"?"+n:""}function u(e,t,n,o){return a.has(o)?null:(s.has(Object.prototype.toString.call(e))||(t?t.includes("application/json")?e=JSON.stringify(e):t.includes("application/x-www-form-urlencoded")&&(e=i(e)):(n.setRequestHeader("Content-Type",r.json),e=JSON.stringify(e))),e)}const l=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i;var f;!function(e){e.thead="table",e.tbody="table",e.col="colgroup",e.tr="tbody",e.td="tr"}(f||(f={}));var d={isShow:!0,mountArr:[],loadArr:[],showArr:[],beforeunloadArr:[],hideArr:[],unloadArr:[]};function h(e){return e instanceof HTMLElement}const p={style:{get(){return this[0].style},set(e){return g(this,e,"style")}},value:{get(){return this[0].value},set(e){return g(this,e,"value")}},checked:{get(){return this[0].checked},set(e){return g(this,e,"checked")}},text:{get(){return this[0].innerText},set(e){return g(this,e,"text")}}};function g(e,t,n){if(0===e.length)throw"Target has no elements";switch(n){case"style":if("string"==typeof t)for(const n in e)e[n].style.cssText=t;else for(const n in e)for(const r in t)e[n].style[r]=t[r];break;case"value":for(const n in e)e[n].value=t;break;case"checked":for(const n in e)e[n].checked=t;break;case"text":for(const n in e)e[n].innerText=t}}function m(e){if("string"==typeof e)return e;if(!e.url)return"";e.url=e.url||window.location.href;const t=e.params?encodeURIComponent(JSON.stringify(e.params)):"";let n=o.queryString(e.query);t&&(n=n?n+"&__CLEANDATA__="+t:"__CLEANDATA__="+t);let r=-1!==e.url.indexOf("?")?"&"+n:"?"+n;return e.url+r}var w={createDOM:function(e){const t=l.exec(e),n=t?t[1]:null,r=n&&f[n]||"div",o=document.createElement(r);return o.innerHTML=e,Array.from(o.childNodes)},htmlCir:function(e,t){let n="";for(let r in e)n+=t(e[r],r);return n},str:function(e){return"object"!=typeof e&&"string"!=typeof e||null===typeof e?e:JSON.stringify(e).replace(/"/g,"&quot;")},one:function(e,t){return(t=t||document).querySelector(e)},all:function(e,t){return t=t||document,Array.from(t.querySelectorAll(e))},setState:function(e,t){if(t){const n=t.split(",");for(const t of n)window[t]=e[t]}else Object.assign(window,e)},watch(e,t){for(const n in t){const r=t[n];Object.defineProperty(e,n,{get:()=>r.value,set(e){const t=r.value;return r.value=e,r.handler(e,t),!0}}),r.immediate&&r.handler(r.value,null)}},mounted:function(e){d.mountArr.push(e)},loaded:function(e){d.loadArr.push(e)},beforeUnload:function(e){d.beforeunloadArr.push(e)},unload:function(e){d.unloadArr.push(e)},pageShow:function(e){d.showArr.push(e)},pageHide:function(e){d.hideArr.push(e)},prevent:function(e,t,...n){t.preventDefault(),e&&e(...n)},stop:function(e,t,...n){t.stopPropagation(),e&&e(...n)},self:function(e,t,...n){const{currentTarget:r,target:o}=t;r===o&&e(...n)},push:function(e){window.location.href=m(e)},replace:function(e){window.location.replace(m(e))},reload:function(){window.location.reload()},back:function(){window.history.back()},forward:function(){window.history.forward()},go:function(e){window.history.go(e)},route:function(){const e={},t=o.getQuery();let n=decodeURIComponent(t.__CLEANDATA__);return e.params="undefined"!==n&&""!==n?JSON.parse(n):{},delete e.__CLEANDATA__,e.query=t,e},formatInput:function(e){let{el:t,rules:n,reg:r,nopass:o,pass:i}=e;window.document.querySelectorAll(t).forEach((e=>{!function(e){let t=e.value;function s(e){const s=e.target.value;let a=!0;if(n){for(let e of n)if(c(e.reg,e.nopass),!a)break}else c(r,o);if(a){const n=t;t=e.target.value,i&&i(t,n)}function c(n,r){n.test(s)||(r({nopassValue:s}),e.target.value=t,a=!1)}}e.addEventListener("input",s),e.addEventListener("compositionstart",(t=>{e.removeEventListener("input",s)})),e.addEventListener("compositionend",(t=>{s(t),e.addEventListener("input",s)}))}(e)}))}};const y={create:function(e){const t=x();if(e instanceof NodeList||e instanceof Array){return C(t,0,e),t}if(v(t,e,0))return t},...w,ajax:function(e){return new Promise((function(t,r){const o=new XMLHttpRequest;o.addEventListener("load",(n=>{const i=function(e){const t={};if(null!==e){const n=e.trim().split(/[\r\n]+/);for(const e of n){const n=e.split(": ");t[n[0]]=n[1]}}return t}(o.getAllResponseHeaders()),s={request:o,config:e,headers:i,response:o.response,status:o.status,statusText:o.statusText};var a;(a=o.status)>=200&&a<=299?t(s):r(s)})),o.addEventListener("error",(e=>{r(e)})),o.addEventListener("timeout",(e=>{r(e)})),e.uploadProgress&&(o.upload.addEventListener("loadstart",(t=>{e.uploadProgress(t)})),o.upload.addEventListener("progress",(t=>{e.uploadProgress(t)})),o.upload.addEventListener("load",(t=>{e.uploadProgress(t)})),o.upload.addEventListener("loadend",(t=>{e.uploadProgress(t)})),o.upload.addEventListener("error",(t=>{e.uploadProgress(t)}))),e.downloadProgress&&(o.addEventListener("loadstart",(t=>{e.downloadProgress(t)})),o.addEventListener("progress",(t=>{e.downloadProgress(t)})),o.addEventListener("loadend",(t=>{e.downloadProgress(t)})));let{method:i,url:s,params:a,data:l,headers:f,timeout:d,responseType:h,withCredentials:p}=e;if(i=i?i.toUpperCase():"GET",a&&(s+=c(s,a)),o.open(i,s,!0),void 0!==p&&(o.withCredentials=p),o.responseType=h||n.JSON,f){let e="";for(const t in f){let n=f[t];n=null==n?"":String(n),o.setRequestHeader(t,n),"content-type"===t.toLowerCase()&&(e=n)}l=u(l,e,o,i)}else l=u(l,"",o,i);o.timeout=d||0,o.send(l)}))},...o},b={map:function(e){const t=[];for(let n in this)t.push(e(this[n],n));return t},push:function(e){v(this,e,this.length)},concat:function(...e){for(let t of e){C(this,this.length,t)}},nth:function(e){return S(x(),(()=>this[e]))},append:function(e){for(let t in this)y.createDOM(e).map((e=>{this[t].appendChild(e)}))},prepend:function(e){for(const t in this){const n=this[t],r=n.firstChild;y.createDOM(e).map((e=>{n.insertBefore(e,r)}))}},before:function(e){for(let t in this){const n=this[t],r=n.parentNode;y.createDOM(e).map((e=>{r.insertBefore(e,n)}))}},after:function(e){for(let t in this){const n=this[t],r=n.parentNode,o=n.nextSibling;y.createDOM(e).map((e=>{r.insertBefore(e,o)}))}},render:function(e){for(let t in this)this[t].innerHTML=e},remove:function(){for(let e in this){const t=this[e];t.parentNode.removeChild(t)}},show:function(e){e=e||"";for(const t in this)this[t].style.display=e},hide:function(){for(const e in this)this[e].style.display="none"},getAttr:function(e){return this[0].getAttribute(e)},setAttr:function(e,t){for(const n in this)this[n].setAttribute(e,t)},addClass:function(e){for(const t in this)this[t].classList.add(e)},removeClass:function(e){for(const t in this)this[t].classList.remove(e)},hasClass:function(e){return this[0].classList.contains(e)},bind:function(e,t,n){for(const r in this)this[r].addEventListener(e,t,n)},unbind:function(e,t,n){for(const r in this)this[r].removeEventListener(e,t,n)}};function A(e,t){Object.defineProperty(e,"length",{value:t})}function v(e,t,n){if(h(t))return e[n]=t,A(e,n+1),!0;throw"Parameter is not an element"}function C(e,t,n){for(const r in n){const o=n[r];if(!h(o))throw"Parameter items are not all elements";e[t]=o,t++}A(e,t)}function S(e,t){const n=t();return n&&(e[0]=n,A(e,1)),e}function E(e,t,n){let r=0;for(const o in t){const i=n(t[o]);i&&(e[r]=i,r++)}return A(e,r),e}function L(e,t){if(0===e.length)throw"Target has no elements";const n=x();switch(t){case"parent":return S(n,(()=>e[0].parentNode));case"child":return E(n,Array.from(e[0].children),(e=>e));case"next":return E(n,e,(e=>e.nextElementSibling));case"prev":return E(n,e,(e=>e.previousElementSibling));case"first":return E(n,e,(e=>e.children[0]));case"last":return E(n,e,(e=>{const t=e.children;return t[t.length-1]}))}}const O={parent(){return L(this,"parent")},child(){return L(this,"child")},next(){return L(this,"next")},prev(){return L(this,"prev")},first(){return L(this,"first")},last(){return L(this,"last")},array(){return Array.from(this)}};class Clean{constructor(){Object.defineProperty(this,"length",{value:0,configurable:!0})}}function x(){for(let e in O)Object.defineProperty(Clean.prototype,e,{get:O[e]});for(let e in p){let t=p[e];Object.defineProperty(Clean.prototype,e,{get:t.get,set:t.set})}for(const e in b)Object.defineProperty(Clean.prototype,e,{value:b[e]});return new Clean}const T=function(e,t){const n=(t=t||document).querySelectorAll(e),r=x();return Object.assign(r,n),A(r,n.length),r};function N(){d.isShow=!1;for(const e of d.mountArr)e();d.mountArr=[]}return Object.assign(T,w),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",N):N(),window.addEventListener("load",(()=>{for(const e of d.loadArr)e()})),window.addEventListener("pageshow",(()=>{if(d.isShow)for(const e of d.showArr)e()})),window.addEventListener("beforeunload",(()=>{for(const e of d.beforeunloadArr)e()})),window.addEventListener("pagehide",(()=>{d.isShow=!0;for(const e of d.hideArr)e()})),window.addEventListener("unload",(()=>{for(const e of d.unloadArr)e()})),T}));
//# sourceMappingURL=clean.min.js.map
