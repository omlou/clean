var e,t,n={Base64:class{constructor(e){e&&(this.key=e)}key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";encode(e){let t,n,r,o,i,s,a,c="",l=0;for(e=this.utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),r=e.charCodeAt(l++),o=t>>2,i=(3&t)<<4|n>>4,s=(15&n)<<2|r>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),c=c+this.key.charAt(o)+this.key.charAt(i)+this.key.charAt(s)+this.key.charAt(a);return c}decode(e){let t,n,r,o,i,s,a,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)o=this.key.indexOf(e.charAt(l++)),i=this.key.indexOf(e.charAt(l++)),s=this.key.indexOf(e.charAt(l++)),a=this.key.indexOf(e.charAt(l++)),t=o<<2|i>>4,n=(15&i)<<4|s>>2,r=(3&s)<<6|a,c+=String.fromCharCode(t),64!=s&&(c+=String.fromCharCode(n)),64!=a&&(c+=String.fromCharCode(r));return c=this.utf8_decode(c).replace(/\u0000/g,""),c}utf8_encode(e){e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}utf8_decode(e){let t="",n=0,r=0,o=0,i=0;for(;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return t}},deepCopy:function e(t,n=new Set){if("object"!=typeof t||null===t)return t;if(n.has(t))return t;let r;switch(n.add(t),t.constructor){case Array:r=[];for(let o of t)r.push(e(o,n));break;case Set:r=new Set,t.forEach((t=>{r.add(e(t,n))}));break;case Map:r=new Map,t.forEach(((t,o)=>{r.set(e(o,n),e(t,n))}));break;default:r={};for(let o in t)r[o]=e(t[o],n)}return r},filterObject:function(e,t,n){let r={};if(!t)return Object.assign(r,e);let o=t.split(",");if(void 0===n&&(n=!0),n)for(let t of o)t=t.trim(),e[t]&&(r[t]=e[t]);else{Object.assign(r,e);for(let e of o)delete r[e]}return r},getQuery:function(e=window.location.href){let t={},n=e.indexOf("?");if(-1===n)return t;let r=e.indexOf("#");(-1===r||n>r)&&(r=void 0);let o=e.slice(n+1,r);if(""===o)return t;let i=o.split("&");for(let e of i){if(!e)continue;let n=e.split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return t},queryString:function(e,t=!1){let n=[];for(let t in e)null!==e[t]&&void 0!==e[t]||(e[t]=""),n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));let r=n.join("&");return r&&t?"?"+r:r},toFixed:function(e,t){if(void 0===e)return;let n=Number(e);if(isNaN(n))throw"argument for toFixed error";if(n>Math.pow(10,21))return String(n);let r=Number(t);if(void 0===t||0==r)return String(Math.round(n));if(isNaN(r))throw"The argument of C.toFixed must be a number";if(r>20||r<0)throw"The second argument of C.toFixed must be between 0 and 20";let o=String(n),i=o.split(".");if(i.length<2){o+=".";for(let e=0;e<r;e++)o+="0";return o}let s=i[0],a=i[1];if(a.length==r)return o;if(a.length<r){for(let e=0;e<r-a.length;e++)o+="0";return o}o=s+"."+a.slice(0,r);let c=a.slice(r,r+1);if(parseInt(c,10)>=5){let e=10**r;o=(parseFloat(o)*e+1)/e,o=o.toFixed(r)}return o},formSubmit:function(e){const{document:t}=window,n=t.createElement("form"),{data:r}=e;delete e.data;for(let t in e)e[t]&&(n[t]=e[t]);n.style.display="none";for(let e in r){const o=t.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.value=r[e],n.appendChild(o)}t.body.appendChild(n),n.submit()},readText:function(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.onload=e=>{t(r.response)},r.onerror=e=>{n(e)},r.open("GET",e,!0),r.send()}))},readJSON:function(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.onload=e=>{t(JSON.parse(r.response))},r.onerror=e=>{n(e)},r.open("GET",e,!0),r.send()}))},getStore:function(e){let t=localStorage.getItem(e);if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t},setStore:function(e,t){if("object"==typeof t&&null!==t)try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)},unid:function(){return Math.floor(1e14*Math.random()).toString(36)+Date.now().toString(36)},colorRGB:function(e){let t=e.toLowerCase(),n=[];if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let n=1;n<4;n+=1)e+=t.slice(n,n+1).concat(t.slice(n,n+1));t=e}for(let e=1;e<7;e+=2)n.push(parseInt("0x"+t.slice(e,e+2)));return n}if(/^(rgb\(|RGB\()[\s\S]+\)/.test(t))return n=t.replace(/( |\(|\)|rgb|RGB)+/g,"").split(","),n.map(Number)},clipboardWrite:function(e,t="text/plain"){let n=null;return n="[object Blob]"===Object.prototype.toString.call(e)?new ClipboardItem({[t]:e}):Array.isArray(e)?new ClipboardItem({[t]:new Blob(e,{type:t})}):new ClipboardItem({[t]:new Blob([e],{type:t})}),navigator.clipboard.write([n])}};function r(e,t=!1){let n=[];for(let t in e)null!==e[t]&&void 0!==e[t]||(e[t]=""),n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));let r=n.join("&");return r&&t?"?"+r:r}!function(e){e.DF="",e.AB="arraybuffer",e.Blob="blob",e.DOC="document",e.JSON="json",e.TXT="text"}(e||(e={})),function(e){e.json="application/json;charset=UTF-8",e.urlencoded="application/x-www-form-urlencoded;charset=UTF-8",e.formData="multipart/form-data",e.text="text/plain;charset=UTF-8",e.xml="application/xml;charset=UTF-8",e.stream="application/octet-stream"}(t||(t={}));const o=new Set(["[object String]","[object FormData]","[object Blob]","[object ArrayBuffer]","[object URLSearchParams]","[object Null]","[object Undefined]"]),i=new Set(["GET","DELETE","HEAD","OPTIONS","TRACE"]);function s(e,t){if(!t)return"";let n="string"==typeof t?t:r(t);return n?-1!==e.indexOf("?")?"&"+n:"?"+n:""}function a(e,n,s,a){return i.has(a)?null:(o.has(Object.prototype.toString.call(e))||(n?n.includes("application/json")?e=JSON.stringify(e):n.includes("application/x-www-form-urlencoded")&&(e=r(e)):(s.setRequestHeader("Content-Type",t.json),e=JSON.stringify(e))),e)}const c=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i;var l;!function(e){e.thead="table",e.tbody="table",e.col="colgroup",e.tr="tbody",e.td="tr"}(l||(l={}));var u={mountArr:[],loadArr:[],showArr:[],beforeunloadArr:[],hideArr:[],visibleArr:[]};function f(e){return e instanceof HTMLElement}const d={style:{get(){return this[0].style},set(e){return h(this,e,"style")}},value:{get(){return this[0].value},set(e){return h(this,e,"value")}},checked:{get(){return this[0].checked},set(e){return h(this,e,"checked")}},text:{get(){return this[0].innerText},set(e){return h(this,e,"text")}}};function h(e,t,n){if(0===e.length)throw"Target has no elements";switch(n){case"style":if("string"==typeof t)for(const n in e)e[n].style.cssText=t;else for(const n in e)for(const r in t)e[n].style[r]=t[r];break;case"value":for(const n in e)e[n].value=t;break;case"checked":for(const n in e)e[n].checked=t;break;case"text":for(const n in e)e[n].innerText=t}}function p(e){if("string"==typeof e)return e;if(!e.url)return"";e.url=e.url||window.location.href;const t=e.params?encodeURIComponent(JSON.stringify(e.params)):"";let r=n.queryString(e.query);t&&(r=r?r+"&__CLEANDATA__="+t:"__CLEANDATA__="+t);let o=-1!==e.url.indexOf("?")?"&"+r:"?"+r;return e.url+o}var g={createDOM:function(e){const t=c.exec(e),n=t?t[1]:null,r=n&&l[n]||"div",o=document.createElement(r);return o.innerHTML=e,Array.from(o.childNodes)},htmlCir:function(e,t){let n="";for(let r in e)n+=t(e[r],r);return n},str:function(e){return"string"==typeof e||"object"==typeof e&&null!==typeof e?JSON.stringify(e).replace(/"/g,"&quot;"):"function"==typeof e?`(${e})`.replace(/"/g,"&quot;"):e},one:function(e,t){return(t=t||document).querySelector(e)},all:function(e,t){return t=t||document,Array.from(t.querySelectorAll(e))},setState:function(e,t){if(t){const n=t.split(",");for(const t of n)window[t]=e[t]}else Object.assign(window,e)},proxy(e,t){for(let n in t){const r=t[n];r.immediate&&r.handler(e[n],void 0)}return new Proxy(e,{get:(e,t)=>Reflect.get(e,t),set(e,n,r){const o=Reflect.get(e,n);return Reflect.set(e,n,r),t[n]&&t[n].handler(r,o),!0}})},mounted:function(e){u.mountArr.push(e)},loaded:function(e){u.loadArr.push(e)},beforeUnload:function(e){u.beforeunloadArr.push(e)},visible:function(e){u.visibleArr.push(e)},pageShow:function(e){u.showArr.push(e)},pageHide:function(e){u.hideArr.push(e)},prevent:function(e,t,...n){t.preventDefault(),e&&e(...n)},stop:function(e,t,...n){t.stopPropagation(),e&&e(...n)},self:function(e,t,...n){const{currentTarget:r,target:o}=t;r===o&&e(...n)},push:function(e){window.location.href=p(e)},replace:function(e){window.location.replace(p(e))},reload:function(){window.location.reload()},back:function(){window.history.back()},forward:function(){window.history.forward()},go:function(e){window.history.go(e)},route:function(){const e={},t=n.getQuery();let r=decodeURIComponent(t.__CLEANDATA__);return e.params="undefined"!==r&&""!==r?JSON.parse(r):{},delete e.__CLEANDATA__,e.query=t,e},formatInput:function(e){let{el:t,rules:n,reg:r,nopass:o,pass:i}=e;window.document.querySelectorAll(t).forEach((e=>{!function(e){let t=e.value;function s(e){const s=e.target.value;let a=!0;if(n){for(let e of n)if(c(e.reg,e.nopass),!a)break}else c(r,o);if(a){const n=t;t=e.target.value,i&&i(t,n)}function c(n,r){n.test(s)||(r({nopassValue:s}),e.target.value=t,a=!1)}}e.addEventListener("input",s),e.addEventListener("compositionstart",(t=>{e.removeEventListener("input",s)})),e.addEventListener("compositionend",(t=>{s(t),e.addEventListener("input",s)}))}(e)}))}};const m={create:function(e){const t=L();if(e instanceof NodeList||e instanceof Array){return A(t,0,e),t}if(b(t,e,0))return t},...g,ajax:function(t){return new Promise((function(n,r){const o=new XMLHttpRequest;o.addEventListener("load",(e=>{const i=function(e){const t={};if(null!==e){const n=e.trim().split(/[\r\n]+/);for(const e of n){const n=e.split(": ");t[n[0]]=n[1]}}return t}(o.getAllResponseHeaders()),s={request:o,config:t,headers:i,response:o.response,status:o.status,statusText:o.statusText};var a;(a=o.status)>=200&&a<=299?n(s):r(s)})),o.addEventListener("error",(e=>{r(e)})),o.addEventListener("timeout",(e=>{r(e)})),t.uploadProgress&&(o.upload.addEventListener("loadstart",(e=>{t.uploadProgress(e)})),o.upload.addEventListener("progress",(e=>{t.uploadProgress(e)})),o.upload.addEventListener("load",(e=>{t.uploadProgress(e)})),o.upload.addEventListener("loadend",(e=>{t.uploadProgress(e)})),o.upload.addEventListener("error",(e=>{t.uploadProgress(e)}))),t.downloadProgress&&(o.addEventListener("loadstart",(e=>{t.downloadProgress(e)})),o.addEventListener("progress",(e=>{t.downloadProgress(e)})),o.addEventListener("loadend",(e=>{t.downloadProgress(e)})));let{method:i,url:c,params:l,data:u,headers:f,timeout:d,responseType:h,withCredentials:p}=t;if(i=i?i.toUpperCase():"GET",l&&(c+=s(c,l)),o.open(i,c,!0),void 0!==p&&(o.withCredentials=p),o.responseType=h||e.JSON,f){let e="";for(const t in f){let n=f[t];n=null==n?"":String(n),o.setRequestHeader(t,n),"content-type"===t.toLowerCase()&&(e=n)}u=a(u,e,o,i)}else u=a(u,"",o,i);o.timeout=d||0,o.send(u)}))},...n},y={nth:function(e){return v(L(),(()=>this[e]))},map:function(e){const t=[];for(let n in this)t.push(e(this[n],n));return t},push:function(e){b(this,e,this.length)},concat:function(...e){for(let t of e){A(this,this.length,t)}},render:function(e){for(let t in this)this[t].innerHTML=e},append:function(e){for(let t in this)m.createDOM(e).map((e=>{this[t].appendChild(e)}))},prepend:function(e){for(const t in this){const n=this[t],r=n.firstChild;m.createDOM(e).map((e=>{n.insertBefore(e,r)}))}},before:function(e){for(let t in this){const n=this[t],r=n.parentNode;m.createDOM(e).map((e=>{r.insertBefore(e,n)}))}},after:function(e){for(let t in this){const n=this[t],r=n.parentNode,o=n.nextSibling;m.createDOM(e).map((e=>{r.insertBefore(e,o)}))}},remove:function(){for(let e in this){const t=this[e];t.parentNode.removeChild(t)}},show:function(e){e=e||"";for(const t in this)this[t].style.display=e},hide:function(){for(const e in this)this[e].style.display="none"},getAttr:function(e){return this[0].getAttribute(e)},setAttr:function(e,t){for(const n in this)this[n].setAttribute(e,t)},addClass:function(e){for(const t in this)this[t].classList.add(e)},removeClass:function(e){for(const t in this)this[t].classList.remove(e)},hasClass:function(e){return this[0].classList.contains(e)},bind:function(e,t,n){for(const r in this)this[r].addEventListener(e,t,n)},unbind:function(e,t,n){for(const r in this)this[r].removeEventListener(e,t,n)}};function w(e,t){Object.defineProperty(e,"length",{value:t})}function b(e,t,n){if(f(t))return e[n]=t,w(e,n+1),!0;throw"Parameter is not an element"}function A(e,t,n){for(const r in n){const o=n[r];if(!f(o))throw"Parameter items are not all elements";e[t]=o,t++}w(e,t)}function v(e,t){const n=t();return n&&(e[0]=n,w(e,1)),e}function C(e,t,n){let r=0;for(const o in t){const i=n(t[o]);i&&(e[r]=i,r++)}return w(e,r),e}function S(e,t){if(0===e.length)throw"Target has no elements";const n=L();switch(t){case"parent":return v(n,(()=>e[0].parentNode));case"child":return C(n,Array.from(e[0].children),(e=>e));case"next":return C(n,e,(e=>e.nextElementSibling));case"prev":return C(n,e,(e=>e.previousElementSibling));case"first":return C(n,e,(e=>e.children[0]));case"last":return C(n,e,(e=>{const t=e.children;return t[t.length-1]}))}}const E={parent(){return S(this,"parent")},child(){return S(this,"child")},next(){return S(this,"next")},prev(){return S(this,"prev")},first(){return S(this,"first")},last(){return S(this,"last")},array(){return Array.from(this)}};class Clean{constructor(){Object.defineProperty(this,"length",{value:0,configurable:!0})}}function L(){for(let e in E)Object.defineProperty(Clean.prototype,e,{get:E[e]});for(let e in d){let t=d[e];Object.defineProperty(Clean.prototype,e,{get:t.get,set:t.set})}for(const e in y)Object.defineProperty(Clean.prototype,e,{value:y[e]});return new Clean}const x=function(e,t){const n=(t=t||document).querySelectorAll(e),r=L();return Object.assign(r,n),w(r,n.length),r};function O(e){for(const t of u.mountArr)t(e);u.mountArr=[]}Object.assign(x,m),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",O):O(null),window.addEventListener("load",(e=>{for(const t of u.loadArr)t(e)})),window.addEventListener("beforeunload",(e=>{for(const t of u.beforeunloadArr)t(e)})),document.addEventListener("visibilitychange",(e=>{for(const t of u.visibleArr)t({event:e,state:document.visibilityState})})),window.addEventListener("pageshow",(e=>{for(const t of u.showArr)t(e)})),window.addEventListener("pagehide",(e=>{for(const t of u.hideArr)t(e)}));export{Clean,x as default};
//# sourceMappingURL=clean.min.js.map
